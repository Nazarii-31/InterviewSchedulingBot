<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interview Scheduling Bot - Test Interface</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-calendar-alt"></i> Interview Scheduling Bot</h1>
            <p>Test the bot functionality using the mock services - no Teams deployment required</p>
        </header>

        <div class="tabs">
            <button class="tab-button active" onclick="openTab(event, 'chat-test')">
                <i class="fas fa-comments"></i> Chat Interface
            </button>
            <button class="tab-button" onclick="openTab(event, 'mock-data')">
                <i class="fas fa-database"></i> Mock Data
            </button>
        </div>

        <!-- Chat Interface Tab -->
        <div id="chat-test" class="tab-content active">
            <div class="tab-description">
                <h3><i class="fas fa-info-circle"></i> Chat Interface Testing</h3>
                <p>Test the bot's natural language processing capabilities using the chat interface. 
                   The bot uses AI-powered responses to understand your requests and provide intelligent scheduling assistance. 
                   Try asking in natural language like "Find slots on Thursday afternoon" or "Are there any openings next Monday?"</p>
            </div>
            
            <div class="chat-interface-section">
                <div class="chat-access-info">
                    <h3><i class="fas fa-comments"></i> Interactive Chat Testing</h3>
                    <p>Use the dedicated chat interface to test all natural language capabilities:</p>
                    
                    <div class="chat-link-container">
                        <a href="/api/chat" target="_blank" class="btn-chat-link">
                            <i class="fas fa-external-link-alt"></i> Open Chat Interface
                        </a>
                        <span class="chat-link-description">Opens in new tab - Teams-like interface for conversational testing</span>
                    </div>
                    
                    <div class="example-queries">
                        <h4><i class="fas fa-lightbulb"></i> Example Natural Language Queries to Try:</h4>
                        <div class="query-examples">
                            <div class="query-item">"Find slots on Thursday afternoon"</div>
                            <div class="query-item">"Are there any slots next Monday?"</div>
                            <div class="query-item">"Show me morning availability tomorrow"</div>
                            <div class="query-item">"Find a 30-minute slot this week"</div>
                            <div class="query-item">"Schedule an interview with John and Jane"</div>
                            <div class="query-item">"Help me find time for a technical interview"</div>
                            <div class="query-item">"What slots are available Friday morning?"</div>
                            <div class="query-item">"I need to schedule a 90-minute panel interview"</div>
                        </div>
                    </div>
                    
                    <div class="features-info">
                        <h4><i class="fas fa-robot"></i> AI-Powered Features to Test:</h4>
                        <ul class="features-list">
                            <li><strong>Natural Language Understanding:</strong> Ask in your own words, the bot understands context</li>
                            <li><strong>Dynamic Responses:</strong> Every response is AI-generated based on your specific situation</li>
                            <li><strong>Contextual Awareness:</strong> Bot remembers conversation history for coherent follow-ups</li>
                            <li><strong>Intelligent Recommendations:</strong> AI explains why certain slots are suggested</li>
                            <li><strong>Error Guidance:</strong> Helpful, context-specific error messages with actionable suggestions</li>
                            <li><strong>Adaptive Communication:</strong> Response style adapts to conversation flow</li>
                        </ul>
                    </div>
                </div>
                
                <!-- Embedded preview of chat interface -->
                <div class="chat-preview-section">
                    <h4><i class="fas fa-eye"></i> Chat Interface Preview</h4>
                    <div class="chat-preview-frame">
                        <iframe src="/api/chat" width="100%" height="600" frameborder="0"></iframe>
                    </div>
                    <p class="preview-note">
                        <i class="fas fa-info-circle"></i> 
                        This is a live preview of the chat interface. For full functionality, 
                        <a href="/api/chat" target="_blank">open in new tab</a>.
                    </p>
                </div>
            </div>
        </div>

        <!-- Mock Data Tab -->
        <div id="mock-data" class="tab-content">
            <div class="tab-description">
                <h3><i class="fas fa-info-circle"></i> Mock Data Management</h3>
                <p>This tab allows you to view and modify the mock data used by the bot for testing. 
                   Change user availability, working hours, and presence status to see how different scenarios 
                   affect scheduling results. Perfect for testing edge cases and understanding bot behavior.</p>
            </div>
            
            <div class="mock-data-section">
                <h3><i class="fas fa-users"></i> Mock Data Management</h3>
                
                <!-- Calendar Generation Controls -->
                <div class="calendar-generation-controls">
                    <h4><i class="fas fa-cog"></i> Calendar Generation Settings</h4>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="generation-duration">Generate calendar events for:</label>
                            <select id="generation-duration">
                                <option value="1">1 Day</option>
                                <option value="3">3 Days</option>
                                <option value="7" selected>1 Week</option>
                                <option value="14">2 Weeks</option>
                                <option value="30">1 Month</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="generation-density">Meeting density:</label>
                            <select id="generation-density">
                                <option value="low">Low (0-1 per day)</option>
                                <option value="medium" selected>Medium (1-3 per day)</option>
                                <option value="high">High (3-5 per day)</option>
                            </select>
                        </div>
                    </div>
                </div>
                
                <!-- Unified User Data -->
                <h4><i class="fas fa-database"></i> User Data</h4>
                <div id="unified-user-data">
                    <!-- User data will be populated by JavaScript -->
                </div>
                
                <div class="mock-data-actions">
                    <button type="button" class="btn-primary" onclick="resetMockData()">
                        <i class="fas fa-refresh"></i> Reset to Default
                    </button>
                    <button type="button" class="btn-secondary" onclick="generateRandomData()">
                        <i class="fas fa-random"></i> Generate Random Data
                    </button>
                    <button type="button" class="btn-secondary" onclick="regenerateCalendarData()">
                        <i class="fas fa-calendar-plus"></i> Regenerate Calendar Events
                    </button>
                    <button type="button" class="btn-secondary" onclick="exportMockData()">
                        <i class="fas fa-download"></i> Export Data
                    </button>
                </div>
            </div>
        </div>

        <footer>
            <div class="footer-content">
                <p><i class="fas fa-cog"></i> Using Mock Services - Perfect for testing without Teams deployment</p>
                <p><i class="fas fa-book"></i> <a href="/swagger" target="_blank">View API Documentation</a></p>
            </div>
        </footer>

        <div id="loading" class="loading" style="display: none;">
            <div class="loading-spinner"></div>
            <p>Processing your request...</p>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>